### 现象：

查看参数 memory.usage_in_bytes == memory.limit_in_bytes, 如果继续申请内存并没有触发 OOM, 那这是怎么回事呢？

### 原因：

- memory.usage_in_bytes = RSS + PageCache
- RSS: 是进程里真正获得的物理内存大小
- PageCache: 把磁盘上读写到的页面存放在内存中，这部分的内存就是 Page Cache
- Linux 内存管理与回收机制
  - LRU（Least Recently Used）算法决定哪些内存页面先被释放
  - Page Cache 的内存页面只是起到 Cache 作用, 自然是会被优先释放的
    控制组里的进程需要申请新的物理内存, 而且 memory.usage_in_bytes 里的值超过控制组里的内存上限值 memory.limit_in_bytes, 这时 linux 的内存回收机制会触发, 释放一些 Page Cache 内存, 从而满足进程的内存申请

### 知识理解：

```shell
# ./start_container.sh
# 脚本里会 echo 104857600 > $CGROUP_CONTAINER_PATH/memory.limit_in_bytes, 限制容器内存为 100MB


```
