### 现象：

1. 容器内 top 拿不到容器的【系统 CPU 使用率】，只能拿到容器内【进程的 CPU 使用率】？
2. Load Average 很高，但是容器的 CPU 使用率很低？

### 原因：

- 进程的 CPU 使用率和系统 CPU 使用率

```shell
# 查看进程的CPU使用率
cat /proc/[pid]/stat | awk '{print $14, $15}'

# 查看系统CPU使用率
cat /proc/stat | grep "cpu " | awk '{print $2, $3, $4, $5, $6, $7}'

# 这个 /proc/stat 文件也不包含在任意一个 Namespace 里, 所以对于 top 命令来说，它只能显示整个节点中各项 CPU 的使用率，不能显示单个容器的各项 CPU 的使用率
```

- 容器的 CPU 使用率

```shell
# /sys/fs/cgroup/cpuacct/docker/f47a53a233163b1e73a70de064be8d19ae5a9f39d2ddc6476807ede40f05b5a3
cat cpuacct.stat; sleep 1; cat cpuacct.stat
```

- Load Average: Load Average= 可运行队列进程平均数 + 休眠队列中不可打断的进程平均数

### 知识理解：
